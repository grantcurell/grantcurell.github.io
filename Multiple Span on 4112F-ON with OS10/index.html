<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Grant Curell" /><link rel="canonical" href="https://grantcurell.github.io/Multiple%20Span%20on%204112F-ON%20with%20OS10/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Multiple Span on 4112F-ON with OS10 - Grant Curell's Dell Projects</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Multiple Span on 4112F-ON with OS10";
        var mkdocs_page_input_path = "Multiple Span on 4112F-ON with OS10/README.md";
        var mkdocs_page_url = "/Multiple%20Span%20on%204112F-ON%20with%20OS10/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Grant Curell's Dell Projects
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Grant Curell's Dell Projects</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Create Kickstart Server on Fedora/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Create OpenSwitch VM/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Dell Ansible Testing/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../DHCP Relay on SONiC/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Elasticsearch Display Map Data/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Elasticsearch Load Testing/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../esrally (INCOMPLETE)/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Estimating Compute Requirements for Machine Learning/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Finding Rare Logs with DBSCAN/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Get%20NVMe%20Drives%20from%20iDRAC%20Redfish/">Get NVMe Drives from iDRAC Redfish</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../High%20Speed%20Packet%20Capture/">High Speed Packet Capture</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../How%20Bitcoin-Blockchain%20Works%20-%20Notes/">How Bitcoin-Blockchain Works - Notes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../How%20OS10%20Installer%20Works/">How OS10 Installer Works</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../How%20to%20ONIE%20Install%20and%20ZTP%20Config%20Dell%20SONiC/">How to ONIE Install and ZTP Config Dell SONiC</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../How%20to%20Read%20lstopo%20and%20a%20PCIe%20Overview/">How to Read lstopo and a PCIe Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../idrac%20with%20LDAP/">idrac with LDAP</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Importing%20Elasticsearch%20Data/">Importing Elasticsearch Data</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Installing%20DPDK%20with%20NapaTech%20Card/">Installing DPDK with NapaTech Card</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../IO%20Identities%20with%20LifeCycle%20Controller/">IO Identities with LifeCycle Controller</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../LDAP%20with%20OpenManage/">LDAP with OpenManage</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../LLMs%20Explained/">LLMs Explained</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Load%20Balance%20Testing%20on%204112F-ON/OpenSwitch%20%28OPX%29/">Load Balancing with LAG OPX</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Load%20Balance%20Testing%20on%204112F-ON/OS10/">Load Balance Testing on 4112F-ON w/OS10</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Load%20Balance%20Testing%20with%20OpenVSwitch/">Load Balance Testing with OpenVSwitch</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Load%20Balancing%20on%20Mellanox%20Switches/">Load Balancing on Mellanox Switches</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Load%20Balancing%20with%20LAG%20on%205112F-ON/">Load Balancing with LAG on 5112F-ON</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Migrating%20Storage%20Volumes%20to%20PowerStore/">Migrating Storage Volumes to PowerStore</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Mulitple%20Span%20on%204112F-ON%20with%20OpenSwitch/">Mulitple Span on 4112F-ON with OpenSwitch</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Multiple Span on 4112F-ON with OS10</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20AMD%20Processor/">Notes on AMD Processor</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20Building%20a%20Datacenter%20from%20Scratch/">Notes on Building a Datacenter from Scratch</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20HPC/">Notes on HPC</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20Improving%20Drive%20Performance/">Notes on Improving Drive Performance</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20mdraid%20Performance%20Testing/">Notes on mdraid Performance Testing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20nodejs/">Notes on nodejs</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20NVMe%20Log%20Pages/">Notes on NVMe Log Pages</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20PCIe/">Notes on PCIe</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Nvidia GPUDirect/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Nvidia%20GRID%20Notes/">Nvidia GRID Notes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../NVMe%20Performance%20Testing/">NVMe Performance Testing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Offline%20Updates%20with%20OpenManage%20Enterprise/">Offline Updates with OpenManage Enterprise</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Make%20USB%20Read%20Only/">Make USB Read Only</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Notes%20on%20HSM/">Notes on HSM</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../OME%20Bug/">OME Bug</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../OME%20Integration%20for%20VMWare/">OME Integration for VMWare</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../OpenFlow%20on%204112F-ON/">OpenFlow on 4112F-ON</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../OS10%20Password%20Recovery%20Bug/">OS10 Password Recovery Bug</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../PCIev3%20vs%20v4/">PCIev3 vs v4</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Playing%20with%20virsh/">Playing with virsh</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../PowerScale%20-%20Configure%20with%20Kubernetes/">PowerScale - Configure with Kubernetes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../PowerScale%20Failed%20Authentication/">PowerScale Failed Authentication</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../PowerScale%20Setup/">PowerScale Setup</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Reset%20OS10%20Admin%20Password/">Reset OS10 Admin Password</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Run%20VPN%20on%20OS10/">Run VPN on OS10</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Running DNS from OS10/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Set Up RSPAN on OS10/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Setting Up Breakout Cables/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Setting Up iDRAC Telemetry with Splunk/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Setting Up SmartFabric Director/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Setup IDPA/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Site to Site VPN with PFSense and CentOS 8/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../SONiC - Sample Datacenter Automation Architecture/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Switch Directly to Client Test/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Testing Bare Metal Orchestrator/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Testing Intel x520 on RHEL 6/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Understanding Memory/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Understanding PERC Interrupts/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Use OS10 as Aggregator/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Using FIO/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Using the iDRAC Service Module/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../VEP Testing/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../VMWare/Automate ESXi Installation/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../VMWare/ESXi Architecture/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../VMWare/Setup VXRail/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../VMWare/Troubleshooting vSAN/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../VMWare/VMWare APIs/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../VMWare/VxRail Architecture and Troubleshooting/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Web Traffic Generator/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Writing udev Rules for Dell PERC H755/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Adding Hashing to OpenSwitch/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Adding Intel I219-LM (8086.0d4c) Driver to ESXi/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Automatically Provision Dell Servers/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Automating OME Hardware Reports/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Backup OS10 Config with Ansible/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../CloudLink/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Common Questions About LLMs Answered/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Configure FN410 as a Switch/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Configure Gigamon Tap/README.md">None</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../Configuring VLT on OS10/README.md">None</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Grant Curell's Dell Projects</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Multiple Span on 4112F-ON with OS10</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="multiple-span-on-4112f-on-with-os10">Multiple Span on 4112F-ON with OS10</h1>
<p>In this test case I am testing to see if we can configure a Dell 4112F-ON with
OS10 to create a one to many port configuration using SPAN.</p>
<h1 id="helpful-links">Helpful Links</h1>
<p><a href="https://opencomputeproject.github.io/onie/user-guide/index.html#installing-over-the-network">ONIE Network Install Process Overview</a></p>
<h1 id="my-configuration">My Configuration</h1>
<h2 id="general-configuration">General Configuration</h2>
<ul>
<li>ONIE host is running RHEL 8</li>
<li>I am using a Dell S4112F-ON for testing</li>
<li>OS10 version 10.5.0.2</li>
<li>PFSense running DNS and DHCP as services</li>
</ul>
<h2 id="rhel-release-info">RHEL Release Info</h2>
<pre><code>NAME="Red Hat Enterprise Linux"
VERSION="8.0 (Ootpa)"
ID="rhel"
ID_LIKE="fedora"
VERSION_ID="8.0"
PLATFORM_ID="platform:el8"
PRETTY_NAME="Red Hat Enterprise Linux 8.0 (Ootpa)"
ANSI_COLOR="0;31"
CPE_NAME="cpe:/o:redhat:enterprise_linux:8.0:GA"
HOME_URL="https://www.redhat.com/"
BUG_REPORT_URL="https://bugzilla.redhat.com/"

REDHAT_BUGZILLA_PRODUCT="Red Hat Enterprise Linux 8"
REDHAT_BUGZILLA_PRODUCT_VERSION=8.0
REDHAT_SUPPORT_PRODUCT="Red Hat Enterprise Linux"
REDHAT_SUPPORT_PRODUCT_VERSION="8.0"
Red Hat Enterprise Linux release 8.0 (Ootpa)
Red Hat Enterprise Linux release 8.0 (Ootpa)
</code></pre>
<h2 id="os10-version">OS10 Version</h2>
<pre><code>Dell EMC Networking OS10 Enterprise
Copyright (c) 1999-2019 by Dell Inc. All Rights Reserved.
OS Version: 10.5.0.2
Build Version: 10.5.0.2.468
Build Time: 2019-10-19T00:29:00+0000
System Type: S4112F-ON
Architecture: x86_64
Up Time: 00:13:11
</code></pre>
<h1 id="setup-onie-prerequisites">Setup ONIE Prerequisites</h1>
<p>See <a href="/README.md#how-to-configure-onie">ONIE Install Setup</a> for instructions.</p>
<h1 id="configure-device-as-tap">Configure Device as TAP</h1>
<h2 id="physical-configuration">Physical Configuration</h2>
<p>For this configuration to work, we will use the management interface as the input
interface for the tap. See image below. You will need to move your network cable
over from your usual network to your traffic generator.</p>
<p><img alt="" src="images/switch_2.JPG" /></p>
<h1 id="problem">Problem</h1>
<p>The way this worked on OPX was to use the Linux kernel module called TC. The net_sched
module which supports ingress packet manipulation is not available on OS10. It could
be reinstalled, but I didn't explore this option. Currently I don't have a working
config on OS10.</p>
<h1 id="test-with-mirror-ports">Test with Mirror Ports</h1>
<p>It looks like OS10 only supports one destination port on a port mirror. See
the below.</p>
<pre><code>OS10(conf-mon-local-1)# do show monitor session 1
S.Id  Source              Destination         Dir   Mode  Source IP        Dest IP          DSCP  TTL  Gre-Protocol   State     Reason
---------------------------------------------------------------------------------------------------------------------------------------
1     ethernet1/1/3                           both  port  N/A              N/A              N/A   N/A  N/A            false     Destination is not configured
OS10(conf-mon-local-1)# destination interface ethernet 1/1/7
OS10(conf-mon-local-1)# destination interface ethernet 1/1/8
% Error: Configuration mismatch.
OS10(conf-mon-local-1)# no destination interface ethernet 1/1/7
OS10(conf-mon-local-1)# destination interface ethernet 1/1/8
OS10(conf-mon-local-1)#
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Mulitple%20Span%20on%204112F-ON%20with%20OpenSwitch/" class="btn btn-neutral float-left" title="Mulitple Span on 4112F-ON with OpenSwitch"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Notes%20on%20AMD%20Processor/" class="btn btn-neutral float-right" title="Notes on AMD Processor">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Mulitple%20Span%20on%204112F-ON%20with%20OpenSwitch/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Notes%20on%20AMD%20Processor/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
