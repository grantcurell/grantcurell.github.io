<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Configure FN410 as a Switch - Grant Curell's Dell Projects</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Configure FN410 as a Switch";
    var mkdocs_page_input_path = "Configure FN410 as a Switch/README.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Grant Curell's Dell Projects</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Grant Curell's Dell Projects</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Adding%20Hashing%20to%20OpenSwitch/">Adding Hashing to OpenSwitch</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Adding%20Intel%20I219-LM%20%288086.0d4c%29%20Driver%20to%20ESXi/">Adding Intel I219-LM (8086.0d4c) Driver to ESXi</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Automating%20OME%20Hardware%20Reports/">Automating OME Hardware Reports</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../CloudLink/">CloudLink</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Configure FN410 as a Switch</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#scenario">Scenario</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ports">Ports</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#4112f-on">4112F-ON</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#fn410">FN410</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#useful-notes">Useful Notes</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#how-the-fn410-management-interface-works">How the FN410 Management Interface Works</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#what-is-a-fabric">What is a fabric?</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example-configs">Example Configs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuring-the-fn410">Configuring the FN410</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#configure-fn410-as-a-switch-via-gui">Configure FN410 as a Switch via GUI</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configure-fn410-as-a-swich-via-command-line">Configure FN410 as a Swich via Command Line</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configuring-switch-management">Configuring Switch Management</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#configure-default-route">Configure Default Route</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#configure-ntp">Configure NTP</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#configure-management-ip-address">Configure Management IP Address</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#configure-snmp">Configure SNMP</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#upgrading-the-firmware">Upgrading the firmware</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configure-interfaces">Configure Interfaces</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configure-4112f-on">Configure 4112F-ON</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#vlans">VLANs</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#on-4112f-on">On 4112F-ON</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Configure%20Gigamon%20Tap/">Configure Gigamon Tap</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Configuring%20VLT%20on%20OS10/">Configuring VLT on OS10</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Create%20Kickstart%20Server%20on%20Fedora/">Create Kickstart Server on Fedora</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Create%20OpenSwitch%20VM/">Create OpenSwitch VM</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Dell%20Ansible%20Testing/">Dell Ansible Testing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../DHCP%20Relay%20on%20SONiC/">DHCP Relay on SONiC</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Elasticsearch%20Display%20Map%20Data/">Elasticsearch Display Map Data</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Elasticsearch%20Load%20Testing/">Elasticsearch Load Testing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../esrally%20%28INCOMPLETE%29/">esrally (INCOMPLETE)</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Get%20NVMe%20Drives%20from%20iDRAC%20Redfish/">Get NVMe Drives from iDRAC Redfish</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../High%20Speed%20Packet%20Capture/">High Speed Packet Capture</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../How%20OS10%20Installer%20Works/">How OS10 Installer Works</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../How%20PCIe%20Works/">How PCIe Works</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../HPC%20Memory/">HPC Memory</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../idrac%20with%20LDAP/">idrac with LDAP</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Importing%20Elasticsearch%20Data/">Importing Elasticsearch Data</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Installing%20DPDK%20with%20NapaTech%20Card/">Installing DPDK with NapaTech Card</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../IO%20Identities%20with%20LifeCycle%20Controller/">IO Identities with LifeCycle Controller</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../LDAP%20with%20OpenManage/">LDAP with OpenManage</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Load%20Balance%20Testing%20on%204112F-ON/OpenSwitch%20%28OPX%29/">Load Balancing with LAG OPX</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Load%20Balance%20Testing%20on%204112F-ON/OS10/">Load Balance Testing on 4112F-ON w/OS10</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Load%20Balance%20Testing%20with%20OpenVSwitch/">Load Balance Testing with OpenVSwitch</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Load%20Balancing%20on%20Mellanox%20Switches/">Load Balancing on Mellanox Switches</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Load%20Balancing%20with%20LAG%20on%205112F-ON/">Load Balancing with LAG on 5112F-ON</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Migrating%20Storage%20Volumes%20to%20PowerStore/">Migrating Storage Volumes to PowerStore</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Mulitple%20Span%20on%204112F-ON%20with%20OpenSwitch/">Mulitple Span on 4112F-ON with OpenSwitch</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Multiple%20Span%20on%204112F-ON%20with%20OS10/">Multiple Span on 4112F-ON with OS10</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Nvidia%20GPUDirect/">Nvidia GPUDirect</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Nvidia%20GRID%20Notes/">Nvidia GRID Notes</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../NVMe%20Performance%20Testing/">NVMe Performance Testing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Offline%20Updates%20with%20OpenManage%20Enterprise/">Offline Updates with OpenManage Enterprise</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../OME%20Bug/">OME Bug</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../OME%20Integration%20for%20VMWare/">OME Integration for VMWare</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../OpenFlow%20on%204112F-ON/">OpenFlow on 4112F-ON</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../OS10%20Password%20Recovery%20Bug/">OS10 Password Recovery Bug</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../PCIev3%20vs%20v4/">PCIev3 vs v4</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Playing%20with%20virsh/">Playing with virsh</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Reset%20OS10%20Admin%20Password/">Reset OS10 Admin Password</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Run%20VPN%20on%20OS10/">Run VPN on OS10</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Running%20DNS%20from%20OS10/">Running DNS from OS10</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Sample%20Datacenter%20Automation%20Architecture/">Sample Datacenter Automation Architecture</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Set%20Up%20RSPAN%20on%20OS10/">Set Up RSPAN on OS10</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Setting%20Up%20Breakout%20Cables/">Setting Up Breakout Cables</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Setting%20Up%20iDRAC%20Telemetry%20with%20Splunk/">Setting Up iDRAC Telemetry with Splunk</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Setting%20Up%20SmartFabric%20Director/">Setting Up SmartFabric Director</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Setup%20IDPA/">Setup IDPA</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Site%20to%20Site%20VPN%20with%20PFSense%20and%20CentOS%208/">Site to Site VPN with PFSense and CentOS 8</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../SONiC%20-%20Fully%20Automated%20Build/">SONiC - Fully Automated Build</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Switch%20Directly%20to%20Client%20Test/">Switch Directly to Client Test</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Testing%20Intel%20x520%20on%20RHEL%206/">Testing Intel x520 on RHEL 6</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Understanding%20Memory/">Understanding Memory</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Use%20OS10%20as%20Aggregator/">Use OS10 as Aggregator</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Using%20the%20iDRAC%20Service%20Module/">Using the iDRAC Service Module</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../VEP%20Testing/">VEP Testing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../VMWare/Automate%20ESXi%20Installation/">Automating ESXi Installation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../VMWare/ESXi%20Architecture/">VMWare Architecture Notes</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../VMWare/Setup%20VXRail/">VxRail Setup</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../VMWare/Troubleshooting%20vSAN/">Troubleshooting vSAN</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../VMWare/VMWare%20APIs/">VMWare APIs</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../VMWare/VxRail%20Architecture%20and%20Troubleshooting/">VxRail Architecture and Troubleshooting</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Web%20Traffic%20Generator/">Web Traffic Generator</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Grant Curell's Dell Projects</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Configure FN410 as a Switch</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="configure-fn410-as-a-switch">Configure FN410 as a Switch</h1>
<h2 id="scenario">Scenario</h2>
<h3 id="overview">Overview</h3>
<p>You are running a TFX2, you have an FN410, and that FN410 is connected back to some sort of top of rack switch.
In my case I am using an 4112F-ON.</p>
<p>In our scenario, we want to create a LAG between the Top of Rack (TOR) switch and two of the front ports of the FN410.
On the back of the FN410, connected to the blades, you will have a trunk going to an ESXi server.</p>
<h3 id="ports">Ports</h3>
<p>The ports are configured in the following way:</p>
<h4 id="4112f-on">4112F-ON</h4>
<pre><code>  ethernet 1/1/1 - port 1 of LAG
  ethernet 1/1/2 - port 2 of LAG
  port-channel 128 - LAG port
</code></pre>
<p>In my setup ethernet 1/1/9 went to the CMC and ethernet 1/1/12 went to the rest of my network. There were not other
relevant ports.</p>
<h4 id="fn410">FN410</h4>
<pre><code>  tengigabitethernet 0/9 - port 1 of LAG
  tengigabitethernet 0/10 - port 2 of LAG
  tengigabitethernet 0/1 - port 1 going to ESXi
  tengigabitethernet 0/2 - port 2 going to ESXi
</code></pre>
<h2 id="useful-notes">Useful Notes</h2>
<h3 id="how-the-fn410-management-interface-works">How the FN410 Management Interface Works</h3>
<p>From <a href="https://topics-cdn.dell.com/pdf/poweredge-fx2_users-guide6_en-us.pdf">the manual</a></p>
<p>The IOM management interface has both a public IP and private IP address on the internal fabric D interface.
The public IP address is exposed to the outside world for Web GUI configurations/WSMAN and other proprietary traffic. You can statically
configure the public IP address or obtain the IP address dynamically using the dynamic host configuration protocol (DHCP).</p>
<h4 id="what-is-a-fabric">What is a fabric?</h4>
<p>A fabric is just a series of electrical connections that in this case make up a L2 switching domain.</p>
<p>Fabric D is the internal management fabric. The CMC basically acts as a switch on this fabric and all of the chassis
management related services are connected to it - idrac, CMC, and FN410 management functions.</p>
<h2 id="example-configs">Example Configs</h2>
<p><a href="4112F-ON_config.txt">4112F-ON Example Configuration</a></p>
<p><a href="FN410_config.txt">FN410 Example Configuration</a></p>
<p><strong><em>For the keen eyed</em></strong> I was too lazy to remove the password hashes. Spoiler it's admin/admin on the 4112 and root/calvin on the FN410.</p>
<h2 id="configuring-the-fn410">Configuring the FN410</h2>
<h3 id="configure-fn410-as-a-switch-via-gui">Configure FN410 as a Switch via GUI</h3>
<ol>
<li>Go to CMC -&gt; Click <em>I/O Module Overview</em></li>
<li>Click on your FN410</li>
<li>Go to setup and configure networking. The address you sit here is tied to the CMC's physical port. That is to say, you do not need to be plugged into the FN410 to reach this address. It should be on the same subnet and VLAN as the CMC.</li>
<li>Click <em>Launch I/O Module GUI</em></li>
<li>Once in the GUI, in mode settings, select <em>Full Switch Mode</em></li>
<li>Set your network settings as needed</li>
<li>Credentials set as needed</li>
<li>SNMP set as needed</li>
<li>Disable Uplink Failure Detection</li>
<li>On time I set my time zone and used <em>216.239.35.0</em> (Google's time servers - the zero isn't a type-o)</li>
<li>At the end you will be asked to reboot. Say yes. A window will appear that says rebooting. Wait for it to go away. At the end the page will refresh and you will  get an error message on the web site saying it isn't available. This is because you put it in switch mode. This process took ~3 minutes for me.</li>
</ol>
<h3 id="configure-fn410-as-a-swich-via-command-line">Configure FN410 as a Swich via Command Line</h3>
<p>From <a href="https://topics-cdn.dell.com/pdf/poweredge-fx2_users-guide6_en-us.pdf">the manual</a></p>
<p>You can connect to the FN410 using one of the following:</p>
<p>Internal RS-232 using the chassis management controller (CMC). Telnet into CMC and do a <code>connect -b switch-id</code> to get
console access to corresponding IOM.</p>
<ul>
<li>External serial port with a universal serial bus (USB) connector (front panel): connect using the IOM front panel USB serial line to get
console access (Labeled as USB B).</li>
<li>Telnet/others using the public IP interface on the fabric D interface.</li>
<li>CMC through the private IP interface on the fabric D interface.</li>
</ul>
<p>You will need to connect through the CMC:</p>
<ol>
<li>SSH to the CMC's IP address. Use the CMC username/password to log in.</li>
<li>Run the command <code>connect -m switch-1</code> to connect to the switch.</li>
<li>My switch was in BMP mode. I had to hit <code>A</code> to cancel it.</li>
<li>Run <code>stack-unit 0 iom-mode full-switch</code> to change the switch to full switch mode</li>
<li>Run <code>write mem</code> and reboot the IOM</li>
</ol>
<h3 id="configuring-switch-management">Configuring Switch Management</h3>
<p>You may have already done this in the GUI, but if not, you can do the following:</p>
<h4 id="configure-default-route">Configure Default Route</h4>
<pre><code>  management route 0.0.0.0/0 192.168.1.1
</code></pre>
<h4 id="configure-ntp">Configure NTP</h4>
<pre><code>  ntp server 216.239.35.0
</code></pre>
<h4 id="configure-management-ip-address">Configure Management IP Address</h4>
<pre><code>  Dell(conf)#interface managementethernet 0/0
  Dell(conf-if-ma-0/0)#ip address 192.168.1.114/24
</code></pre>
<h4 id="configure-snmp">Configure SNMP</h4>
<pre><code>  snmp-server community public ro
  snmp-server enable traps snmp linkdown linkup
  snmp-server enable traps stack
</code></pre>
<h3 id="upgrading-the-firmware">Upgrading the firmware</h3>
<p>You can download the firmware from the <a href="https://www.force10networks.com/CSPortal20/Software/MSeriesDownloads.aspx">force10 website</a></p>
<ol>
<li>Upgrade the Dell Networking OS in flash partition A: or B:. Run <code>upgrade system tftp://10.16.127.149/dell-FN-B B:</code></li>
<li>Verify that the Dell Networking OS has been upgraded correctly in the upgraded flash partition. <code>show boot system stack-unit [0-5 | all]</code></li>
<li>
<p>Upgrade the FN I/O Module Boot Flash and Boot Selector image (if needed).</p>
<pre><code>    upgrade boot [all | bootflash-image | bootselector-image] stack-unit [0-5 | all] [booted |
    flash: | ftp: | scp: | tftp: | usbflash:] [A: | B:]
</code></pre>
</li>
<li>
<p>Change the Primary Boot Parameter of the FN I/O Module to the upgraded partition A: or B:. <code>boot system stack-unit [0-5 | all] primary [system A: | system B: | tftp://]</code></p>
</li>
<li>Save the config: <code>write memory</code>.</li>
<li>Reload the switch so the config takes effect. <code>reload</code></li>
<li>After boot, use <code>show version</code> and <code>show system stack-unit [0-5]</code> to check that versions have updated correctly.</li>
</ol>
<h3 id="configure-interfaces">Configure Interfaces</h3>
<ol>
<li>Begin by configuring the port-channel interface:</li>
<li>
<p>Note: Hybrid mode allows the interface to pass tagged and untagged traffic.</p>
<pre><code>    Dell(conf)#interface port-channel 128
    Dell(conf-if-po-128)#portmode hybrid
    Dell(conf-if-po-128)#switchport
    Dell(conf-if-po-128)#no shutdown
</code></pre>
</li>
<li>
<p>Next you need to configure the individual interfaces:</p>
<pre><code>     Dell(conf)#interface range tengigabitethernet 0/9-10
     Dell(conf-if-range-te-0/9-10)#port-channel-protocol LACP
     Dell(conf-if-range-te-0/9-10-lacp)#port-channel 128 mode active
</code></pre>
</li>
<li>
<p>Now you need to configure any VLANs you want to run:</p>
<pre><code>    Dell(conf)#interface range vlan 32-37
    Dell(conf-if-range-vl-32-37)#tagged tengigabitethernet 0/1-2
    Dell(conf-if-range-vl-32-37)#tagged tengigabitethernet 0/12
</code></pre>
</li>
<li>
<p>If desired at this point you can enter into each VLAN interface and run the <code>ip address</code> command to give it an IP address.</p>
</li>
<li>Run <code>write memory</code></li>
</ol>
<h2 id="configure-4112f-on">Configure 4112F-ON</h2>
<ol>
<li>Log into the 4112F-ON via its management interfaces. Move to configuration mode.</li>
<li>
<p>Next, configure the port channel interface:</p>
<pre><code>    OS10(config)# interface port-channel 128
    OS10(conf-if-po-128)# switchport mode trunk
    OS10(conf-if-po-128)# no switchport access vlan
    OS10(conf-if-po-128)# switchport trunk allowed vlan 32
    OS10(conf-if-po-128)# no shutdown
</code></pre>
</li>
<li>
<p>Now configure the interfaces to join the port channel.</p>
<pre><code>    OS10(config)# interface range ethernet 1/1/1-1/1/2
    OS10(conf-range-eth1/1/1-1/1/2)# channel-group 128 mode active
    OS10(conf-range-eth1/1/1-1/1/2)# no switchport
    OS10(conf-range-eth1/1/1-1/1/2)# switchport mode trunk
</code></pre>
</li>
<li>
<p>Run <code>write memory</code></p>
</li>
</ol>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="vlans">VLANs</h3>
<h4 id="on-4112f-on">On 4112F-ON</h4>
<p>Make sure the VLANs using are all shown as active on the correct ports:</p>
<pre><code>        OS10# show vlan
        Codes: * - Default VLAN, M - Management VLAN, R - Remote Port Mirroring VLANs,
               @ – Attached to Virtual Network
        Q: A - Access (Untagged), T - Tagged
        NUM    Status    Description                     Q Ports
      * 1      Inactive                                  A Eth1/1/4-1/1/8,1/1/10,1/1/13-1/1/15
        32     Active                                    T Eth1/1/11
                                                         T Po128
                                                         A Eth1/1/9,1/1/12
</code></pre>
<h5 id="on-fn410">On FN410</h5>
<pre><code>        Dell#show vlan

        Codes: * - Default VLAN, G - GVRP VLANs, R - Remote Port Mirroring VLANs, P - Primary, C - Community, I - Isolated
              O - Openflow, Vx - Vxlan
        Q: U - Untagged, T - Tagged
        x - Dot1x untagged, X - Dot1x tagged
        o - OpenFlow untagged, O - OpenFlow tagged
        G - GVRP tagged, M - Vlan-stack, H - VSN tagged
        i - Internal untagged, I - Internal tagged, v - VLT untagged, V - VLT tagged

        NUM    Status    Description                     Q Ports
     *  1      Active                                    U Po128(Te 0/9-10)
                                                         U Te 0/1-2,12
        32     Active                                    T Po128(Te 0/9-10)
                                                         T Te 0/1-2,12
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Configure%20Gigamon%20Tap/" class="btn btn-neutral float-right" title="Configure Gigamon Tap">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../CloudLink/" class="btn btn-neutral" title="CloudLink"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../CloudLink/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Configure%20Gigamon%20Tap/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
